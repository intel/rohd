<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the toRadixString method from the LogicValue class, for the Dart programming language.">
  <title>toRadixString method - LogicValue class - rohd library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">rohd</a></li>
    <li><a href="../../rohd/rohd-library.html">rohd.dart</a></li>
    <li><a href="../../rohd/LogicValue-class.html">LogicValue</a></li>
    <li class="self-crumb">toRadixString method</li>
  </ol>
  <div class="self-name">toRadixString</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button" title="Toggle brightness">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        dark_mode
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        light_mode
      </span>
    </label>
  </div>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="rohd&#47;LogicValue-class-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">toRadixString</span> method 
</h1></div>

    <section class="multi-line-signature">
      
<span class="returntype"><a href="https://api.dart.dev/stable/3.6.1/dart-core/String-class.html">String</a></span>
<span class="name ">toRadixString</span>(<wbr>{<ol class="parameter-list"> <li><span class="parameter" id="toRadixString-param-radix"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.6.1/dart-core/int-class.html">int</a></span> <span class="parameter-name">radix</span> = <span class="default-value">2</span>, </span></li>
<li><span class="parameter" id="toRadixString-param-chunkSize"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.6.1/dart-core/int-class.html">int</a></span> <span class="parameter-name">chunkSize</span> = <span class="default-value">4</span>, </span></li>
<li><span class="parameter" id="toRadixString-param-sepChar"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.6.1/dart-core/String-class.html">String</a></span> <span class="parameter-name">sepChar</span> = <span class="default-value">&#39;_&#39;</span>, </span></li>
</ol>})

      

    </section>
    
<section class="desc markdown">
  <p>Return the radix encoding of the current <a href="../../rohd/LogicValue-class.html">LogicValue</a> as a sequence
of radix characters prefixed by the length and encoding format.
Output format is: <code>&lt;len&gt;'&lt;format&gt;&lt;encoded-value&gt;</code>.</p>
<p><a href="../../rohd/LogicValue/ofRadixString.html">ofRadixString</a> can parse a <a href="https://api.dart.dev/stable/3.6.1/dart-core/String-class.html">String</a> produced by <a href="../../rohd/LogicValue/toRadixString.html">toRadixString</a> and
construct a <a href="../../rohd/LogicValue-class.html">LogicValue</a>.</p>
<p>Here is the number 1492 printed as a radix string:</p>
<ul>
<li>Binary: <code>15'b101_1101_0100</code></li>
<li>Quaternary: <code>15'q11_3110</code></li>
<li>Octal: <code>15'o2724</code></li>
<li>Decimal: <code>10'd1492</code></li>
<li>Hex: <code>15'h05d4</code></li>
</ul>
<p>Separators are output according to <code>chunkSize</code> starting from the
LSB(right), default is 4 characters.  The default separator is '_'.
<code>sepChar</code> can be set to another character, but not in <a href="../../rohd/LogicValue/radixStringChars-constant.html">radixStringChars</a>,
otherwise it will throw an exception.</p>
<ul>
<li><code>chunkSize</code> = default: <code>61'h2_9ebc_5f06_5bf7</code></li>
<li><code>chunkSize</code> = 10: <code>61'h29e_bc5f065bf7</code></li>
</ul>
<p>Leading 0s are omitted in the output string:</p>
<ul>
<li><code>25'h1</code></li>
</ul>
<p>When a <a href="../../rohd/LogicValue-class.html">LogicValue</a> has 'x' or 'z' bits, then the radix characters those
bits overlap will be expanded into binary form with '&lt;' '&gt;' bracketing
them as follows:</p>
<ul>
<li><code>35'h7_ZZZZ_Z&lt;zzz0&gt;&lt;100z&gt;Z</code>
Such a <a href="../../rohd/LogicValue-class.html">LogicValue</a> cannot be converted to a Decimal (10) radix string
and will throw an exception.</li>
</ul>
<p>If the leading bits are 'z', then the output radix character is 'Z' no
matter what the length. When leading, 'Z' indicates one or more 'z'
bits to fill the first radix character.</p>
<ul>
<li><code>9'bz_zzzz_zzzz = 9'hZZZ</code></li>
</ul>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">String toRadixString(
    {int radix = 2, int chunkSize = 4, String sepChar = &#39;_&#39;}) {
  if (radixStringChars.contains(sepChar)) {
    throw LogicValueConversionException(&#39;separation character invalid&#39;);
  }
  final radixStr = switch (radix) {
    2 =&gt; &quot;&#39;b&quot;,
    4 =&gt; &quot;&#39;q&quot;,
    8 =&gt; &quot;&#39;o&quot;,
    10 =&gt; &quot;&#39;d&quot;,
    16 =&gt; &quot;&#39;h&quot;,
    _ =&gt; throw LogicValueConversionException(&#39;Unsupported radix: $radix&#39;)
  };
  final String reversedStr;
  if (isValid) {
    final radixString =
        toBigInt().toUnsigned(width).toRadixString(radix).toUpperCase();
    reversedStr = _reverse(radixString);
  } else if (radix == 10) {
    final span = (width * math.log(2) &#47; math.log(radix)).floor();
    if (toRadixString().contains(RegExp(&#39;[xX]&#39;))) {
      reversedStr = &#39;X&#39; * span;
    } else {
      reversedStr = &#39;Z&#39; * span;
    }
  } else {
    final span = (math.log(radix) &#47; math.log(2)).ceil();
    final extendedStr =
        LogicValue.of(this, width: span * (width &#47; span).ceil());
    final buf = StringBuffer();
    for (var i = (extendedStr.width ~&#47; span) - 1; i &gt;= 0; i--) {
      final binaryChunk = extendedStr.slice((i + 1) * span - 1, i * span);
      var chunkString = binaryChunk.toString(includeWidth: false);
      if (i == extendedStr.width ~&#47; span - 1) {
        final chunkWidth = chunkString.length;
        chunkString = chunkString.substring(
            chunkWidth - (width - i * span), chunkWidth);
      }
      final s = [
        if (chunkString == &#39;z&#39; * chunkString.length)
          (span == 1 ? &#39;z&#39; : &#39;Z&#39;)
        else if (chunkString == &#39;x&#39; * chunkString.length)
          (span == 1 ? &#39;x&#39; : &#39;X&#39;)
        else if (chunkString.contains(&#39;z&#39;) | chunkString.contains(&#39;x&#39;))
          &#39;&gt;${_reverse(chunkString)}&lt;&#39;
        else
          binaryChunk.toBigInt().toUnsigned(span).toRadixString(radix)
      ].first;
      buf.write(_reverse(s));
    }
    reversedStr = _reverse(buf.toString());
  }
  final spaceString = _reverse(reversedStr
      .replaceAllMapped(
          RegExp(&#39;((&gt;(.){$chunkSize}&lt;)|([a-zA-Z0-9])){$chunkSize}&#39;),
          (match) =&gt; &#39;${match.group(0)}$sepChar&#39;)
      .replaceAll(&#39;$sepChar&lt;&#39;, &#39;&lt;&#39;));

  final fullString = spaceString[0] == sepChar
      ? spaceString.substring(1, spaceString.length)
      : spaceString;
  return &#39;$width$radixStr$fullString&#39;;
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">rohd</a></li>
    <li><a href="../../rohd/rohd-library.html">rohd</a></li>
    <li><a href="../../rohd/LogicValue-class.html">LogicValue</a></li>
    <li class="self-crumb">toRadixString method</li>
</ol>

    <h5>LogicValue class</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    rohd
      0.6.1
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

